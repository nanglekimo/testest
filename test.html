<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç•°ä¸–ç•ŒæŠ•è³‡å†’éšªè€…å…¬æœƒï¼šéˆé­‚å±¬æ€§é‘‘å®š</title>
    <style>
        :root {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --primary: #3b82f6; /* Blue */
            --accent: #f59e0b;  /* Gold */
            --text-main: #f1f5f9;
            --text-sub: #94a3b8;
            --fire: #ef4444;
            --water: #0ea5e9;
            --wind: #10b981;
            --earth: #8b5cf6; /* Using purple for Earth/Magic feel */
            --light: #fcd34d;
            --dark: #64748b;
            --border-radius: 12px;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-image: radial-gradient(circle at 50% 50%, #1e293b 0%, #0f172a 100%);
        }

        .container {
            width: 100%;
            max-width: 600px;
            padding: 20px;
            margin: 0 auto;
        }

        /* Common Card Style */
        .game-card {
            background: var(--card-bg);
            border: 2px solid #334155;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            position: relative;
            overflow: hidden;
        }

        .game-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        /* Typography */
        h1, h2 {
            text-align: center;
            margin-top: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        h1 { color: var(--accent); font-size: 1.8rem; letter-spacing: 1px; }
        h2 { color: var(--text-main); font-size: 1.4rem; margin-bottom: 20px; }
        p { color: var(--text-sub); line-height: 1.6; margin-bottom: 20px; }

        /* Buttons */
        .btn {
            display: block;
            width: 100%;
            padding: 16px;
            margin-bottom: 12px;
            background: #334155;
            color: white;
            border: 1px solid #475569;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            text-align: left;
            transition: all 0.2s;
            position: relative;
            padding-left: 40px;
        }

        .btn:hover {
            background: #475569;
            border-color: var(--primary);
            transform: translateX(5px);
            box-shadow: -5px 0 0 var(--primary);
        }

        .btn::before {
            content: "â¤";
            position: absolute;
            left: 15px;
            opacity: 0.5;
        }

        .btn:hover::before {
            opacity: 1;
            color: var(--accent);
        }

        .cta-btn {
            background: linear-gradient(135deg, var(--primary), #2563eb);
            text-align: center;
            font-weight: bold;
            border: none;
            padding: 18px;
            font-size: 1.1rem;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
            padding-left: 0;
        }
        
        .cta-btn::before { content: none; }
        .cta-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(37, 99, 235, 0.6); }

        /* HUD / Progress */
        .hud {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-family: monospace;
            color: var(--accent);
            font-size: 0.9rem;
        }

        .hp-bar {
            width: 100%;
            height: 8px;
            background: #0f172a;
            border-radius: 4px;
            margin-top: 5px;
            overflow: hidden;
        }

        .hp-fill {
            height: 100%;
            background: var(--accent);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Results */
        .result-header {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 1px solid #334155;
            margin-bottom: 20px;
        }

        .class-badge {
            display: inline-block;
            padding: 5px 15px;
            background: #334155;
            border-radius: 20px;
            font-size: 0.8rem;
            color: var(--accent);
            margin-bottom: 10px;
            letter-spacing: 1px;
            border: 1px solid var(--accent);
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 20px 0;
            background: rgba(0,0,0,0.2);
            padding: 15px;
            border-radius: 8px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            font-family: monospace;
            font-size: 0.9rem;
        }
        
        .stat-val { color: var(--accent); font-weight: bold; }

        .solution-box {
            background: rgba(16, 185, 129, 0.1); /* Green tint */
            border: 1px solid rgba(16, 185, 129, 0.3);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .solution-title {
            color: #10b981;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
        }

        /* Animations */
        .hidden { display: none; }
        .fade-in { animation: fadeIn 0.5s forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Loading */
        .loader-container { text-align: center; padding: 40px; }
        .loader-text { color: var(--accent); font-family: monospace; margin-top: 15px; }
        .crystal-ball {
            width: 60px;
            height: 60px;
            background: radial-gradient(circle at 30% 30%, #a5f3fc, #0891b2);
            border-radius: 50%;
            margin: 0 auto;
            box-shadow: 0 0 20px #0891b2;
            animation: pulse 1.5s infinite alternate;
        }
        @keyframes pulse { from { transform: scale(1); box-shadow: 0 0 20px #0891b2; } to { transform: scale(1.1); box-shadow: 0 0 40px #22d3ee; } }

    </style>
</head>
<body>

<div class="container">

    <div id="intro-screen" class="game-card fade-in">
        <h1>âš”ï¸ ç•°ä¸–ç•ŒæŠ•è³‡å…¬æœƒ</h1>
        <p style="text-align: center;">å†’éšªè€…ç™»éŒ„è™•</p>
        <hr style="border: 0; border-top: 1px solid #334155; margin: 20px 0;">
        <p><strong>System Message:</strong> æ°´æ™¶çƒæ­£åœ¨æ„Ÿæ‡‰æ‚¨çš„ç‘ªé‚£æµå‹•...</p>
        <p>ç‚ºäº†åˆ†ç™¼æœ€é©åˆæ‚¨çš„è·æ¥­èˆ‡è£å‚™ï¼Œå…¬æœƒéœ€è¦é‘‘å®šæ‚¨çš„ã€ŒæŠ•è³‡éˆé­‚å±¬æ€§ã€ã€‚é€™å°‡æ±ºå®šæ‚¨åœ¨è³‡æœ¬å¸‚å ´å‰¯æœ¬ä¸­çš„ç”Ÿå­˜ç‡ã€‚</p>
        <button class="btn cta-btn" onclick="startGame()">ğŸ”® é–‹å§‹éˆé­‚é‘‘å®š</button>
    </div>

    <div id="quiz-screen" class="game-card hidden">
        <div class="hud">
            <span>LV.1 Adventurer</span>
            <span>Quest Progress</span>
        </div>
        <div class="hp-bar"><div class="hp-fill" id="progress-fill"></div></div>
        
        <div id="question-box" class="fade-in" style="margin-top: 20px;">
            <h2 id="question-text">Question</h2>
            <div id="options-container">
                </div>
        </div>
    </div>

    <div id="loading-screen" class="game-card hidden">
        <div class="loader-container">
            <div class="crystal-ball"></div>
            <p class="loader-text" id="loading-text">è§£æç‘ªé‚£è¿´è·¯...</p>
        </div>
    </div>

    <div id="result-screen" class="game-card hidden">
        <div class="result-header">
            <div class="class-badge">é‘‘å®šå®Œæˆ</div>
            <h1 id="result-archetype" style="font-size: 2rem; margin: 10px 0;">è·æ¥­åç¨±</h1>
            <p id="result-quote" style="font-style: italic; color: var(--text-sub);">"åº§å³éŠ˜"</p>
        </div>

        <div class="stat-grid" id="stats-display">
            </div>

        <div>
            <p><strong>ğŸ“Š ç‹€æ…‹åˆ†æï¼š</strong></p>
            <p id="result-desc">åˆ†æå…§å®¹...</p>
        </div>

        <div class="solution-box">
            <div class="solution-title">ğŸ›¡ï¸ å…¬æœƒå°ˆå±¬è§£æ–¹</div>
            <p id="result-solution">è§£æ±ºæ–¹æ¡ˆ...</p>
        </div>

        <button class="btn cta-btn" onclick="alert('å‚³é€è‡³è¨‚é–±é é¢ï¼šç²å¾—ä»Šæ—¥é—œéµæƒ…å ±')">ğŸ“œ é ˜å–è½‰è·ç¦®åŒ… (ç•¶æ—¥é—œéµå ±å‘Š)</button>
        <button class="btn" style="text-align: center; margin-top: 10px; background: transparent; border: none; color: var(--text-sub);" onclick="location.reload()">ğŸ”„ é‡æ–°é‘‘å®š</button>
    </div>

</div>

<script>
    // Data: Questions & Logic
    // Elements: Wind(é¢¨), Fire(ç«), Water(æ°´), Earth(åœ°), Light(å…‰), Dark(é—‡)
    const questions = [
        {
            q: "ã€é‡æ•µã€‘ç•¶ã€Œå¸‚å ´æš´è·Œ / é­”ç‰©ç‹‚æ½®ã€è­¦å ±éŸ¿èµ·ï¼Œä½ çš„ç›´è¦ºåæ‡‰æ˜¯ï¼Ÿ",
            options: [
                { text: "ğŸ›¡ï¸ å …å®ˆé™£åœ°ï¼šé–‹å•Ÿçµ•å°é˜²ç¦¦ï¼Œæˆ‘ä¸è³£å°±ä¸æœƒè¼¸ã€‚", scores: { earth: 2, light: 1 } },
                { text: "âš”ï¸ æ‹”åŠåæ“Šï¼šé€™æ˜¯åˆ·æ€ªçš„å¥½æ©Ÿæœƒï¼æº–å‚™æŠ„åº•ã€‚", scores: { fire: 2, wind: 1 } },
                { text: "ğŸ’£ é™·é˜±å¤§å¸«ï¼šå“¼ï¼Œæ—©æ–™åˆ°äº†ã€‚æª¢æŸ¥åå‘é¿éšªéƒ¨ä½ã€‚", scores: { dark: 2, water: 1 } },
                { text: "ğŸ”­ å†·éœè§€å¯Ÿï¼šå…ˆé€€å¾Œæ’ï¼Œåˆ†ææ˜¯æƒ…ç·’é‚„æ˜¯åŸºæœ¬é¢å´©å£ã€‚", scores: { water: 2, earth: 1 } }
            ]
        },
        {
            q: "ã€æƒ…å ±ã€‘é€²å…¥å……æ»¿è¿·éœ§çš„ã€Œè³‡è¨Šæ£®æ—ã€æ™‚ï¼Œä½ å¦‚ä½•å°‹æ‰¾è·¯å¾‘ï¼Ÿ",
            options: [
                { text: "ğŸŒªï¸ è½é¢¨è€…ï¼šæƒææ‰€æœ‰é ­æ¢ã€æ¨ç‰¹ï¼Œæ·±æ€•æ¼æ‰ä»»ä½•å¯¶ç®±ç·šç´¢ã€‚", scores: { wind: 3, fire: 1 } }, // Core Target
                { text: "âœ¨ è¿½å…‰è€…ï¼šæˆ‘åªçœ‹å¤§è¶¨å‹¢ï¼ˆAIã€ç¶ èƒ½ï¼‰ï¼Œç„¡è¦–çŸ­æœŸé›œéŸ³ã€‚", scores: { light: 2, earth: 1 } },
                { text: "ğŸ—ºï¸ åœ°åœ–æ´¾ï¼šåªçœ‹è²¡å ±æ•¸æ“šå’Œæ­·å²åœ°åœ–ï¼Œä¸ä¿¡è·¯é‚Šå‚³èã€‚", scores: { earth: 2, water: 1 } },
                { text: "ğŸ”¥ æ¢éšªå®¶ï¼šå“ªè£¡æœ‰å¯¶è—å‚³èå°±å¾€å“ªé‘½ï¼åˆºæ¿€æœ€é‡è¦ã€‚", scores: { fire: 2, wind: 1 } }
            ]
        },
        {
            q: "ã€æŠ€èƒ½ã€‘ä½ çš„ã€Œå¤§æ‹› (äº¤æ˜“æ±ºç­–)ã€é€šå¸¸å†·å»æ™‚é–“ (CD) å¤šä¹…ï¼Ÿ",
            options: [
                { text: "âš¡ ç¬ç™¼é­”æ³• (CDæ¥µçŸ­)ï¼šè‹—é ­ä¸å°å°±è·‘ï¼Œæœ‰æ©Ÿæœƒå°±åˆ‡å…¥ã€‚", scores: { wind: 2, fire: 1 } },
                { text: "ğŸ“œ ç¦å’’è© å”± (CDæ¥µé•·)ï¼šä¸€æ‹›æº–å‚™å¥½å¹¾å¹´(å­˜è‚¡)ï¼Œä¸è¼•æ˜“ç§»å‹•ã€‚", scores: { earth: 3, light: 1 } },
                { text: "ğŸ’§ è“„åŠ›æ”»æ“Š (CDä¸­ç­‰)ï¼šè€å¿ƒç­‰å¾…æœ€ä½³æ™‚æ©Ÿï¼Œä¸€æ“Šå¿…æ®ºã€‚", scores: { water: 2, dark: 1 } },
                { text: "ğŸ‘¼ å¬å–šè¡“ (è‡ªå‹•)ï¼šå¬å–šETFå¹«æˆ‘æ‰“ï¼Œæˆ‘å»ç¡è¦ºã€‚", scores: { light: 2, earth: 1 } }
            ]
        },
        {
            q: "ã€å¼±é»ã€‘ä½ åœ¨å†’éšªä¸­æœ€å¸¸é‡åˆ°çš„ã€ŒDebuff (è² é¢ç‹€æ…‹)ã€æ˜¯ä»€éº¼ï¼Ÿ",
            options: [
                { text: "ğŸŒ€ æ··äº‚ (Confusion)ï¼šè³‡è¨Šå¤ªå¤šï¼Œä¸çŸ¥é“è©²è½èª°çš„ï¼ŒçŒ¶è±«éŒ¯éè¡Œæƒ…ã€‚", scores: { wind: 3 } }, // Pain Point
                { text: "ğŸ’¢ ç‹‚æš´ (Berserk)ï¼šçœ‹åˆ°ç‹‚é£†å°±å¿ä¸ä½è¿½é«˜ï¼Œçµæœæ›åœ¨å±±é ‚ã€‚", scores: { fire: 3 } },
                { text: "ğŸ’€ è©›å’’ (Curse)ï¼šå¤ªéæ‡·ç–‘å¸‚å ´ï¼ŒçµæœéŒ¯éæ•´æ®µå¤§ç‰›å¸‚ã€‚", scores: { dark: 3 } },
                { text: "ğŸ¢ é²ç·© (Slow)ï¼šæƒ³å¤ªå¤šã€åˆ†æå¤ªä¹…ï¼Œç¢ºèªå®‰å…¨æ™‚æ€ªéƒ½è¢«æ‰“å®Œäº†ã€‚", scores: { water: 3 } }
            ]
        },
        {
            q: "ã€è£å‚™ã€‘å¦‚æœæœ‰å€‹ã€Œå‚³èªªç´šç²¾éˆ (AI å·¥å…·)ã€ï¼Œä½ å¸Œæœ›å®ƒå…·å‚™ä»€éº¼åŠŸèƒ½ï¼Ÿ",
            options: [
                { text: "ğŸ“¡ æˆ°è¡“é›·é”ï¼šå¿«ï¼çµ¦æˆ‘ç°¡å–®æš´åŠ›çš„ã€Œ3 å€‹é—œéµæƒ…å ±ã€ã€‚", scores: { wind: 2, fire: 1 } }, // Solution Fit
                { text: "ğŸ¤– è‡ªå‹•å°èˆªï¼šåˆ¥å‘Šè¨´æˆ‘ç´°ç¯€ï¼Œå¹«æˆ‘ç¢ºèªèˆªå‘æ­£ç¢ºå°±å¥½ã€‚", scores: { light: 2, earth: 1 } },
                { text: "ğŸ”¬ å¼±é»åˆ†æï¼šæƒææ€ªç‰©çš„é˜²ç¦¦æ¼æ´ï¼Œçµ¦æˆ‘è©³ç´°æ•¸æ“šå ±å‘Šã€‚", scores: { water: 2, dark: 1 } },
                { text: "ğŸ›¡ï¸ åœ°éœ‡é è­¦ï¼šå¹³å¸¸åˆ¥åµæˆ‘ï¼Œåªæœ‰è¦å´©ç›¤æ™‚å«é†’æˆ‘ã€‚", scores: { earth: 2, dark: 1 } }
            ]
        }
    ];

    // Archetypes Data
    const archetypes = {
        wind: {
            name: "ğŸŒªï¸ ç–¾é¢¨éŠä¿  (The Storm Ranger)",
            quote: "ã€Œå¤©ä¸‹æ­¦åŠŸï¼Œå”¯å¿«ä¸ç ´... ä½†åˆ¥è·‘éŒ¯æ–¹å‘ã€‚ã€",
            stats: [
                { label: "æ•æ· AGI", val: "S" }, { label: "è³‡è¨Š INT", val: "A" },
                { label: "å®šæ€§ VIT", val: "C" }, { label: "é˜²ç¦¦ DEF", val: "B" }
            ],
            desc: "ä½ å°å¸‚å ´è®ŠåŒ–æ¥µåº¦æ•æ„Ÿï¼Œåæ‡‰å¿«ï¼Œä½†é€™ä¹Ÿæ˜¯é›™é¢åˆƒã€‚ä½ æœ€å¤§çš„ç—›é»ä¸æ˜¯ã€Œä¸æ‡‚ã€ï¼Œè€Œæ˜¯ã€Œé›œè¨Šå¤ªå¤šã€ã€‚å¸¸å› éåº¦é—œæ³¨çŸ­æœŸæ³¢å‹•è€Œç„¦æ…®ï¼Œæˆ–åœ¨è³‡è¨Šè½Ÿç‚¸ä¸­è¿·å¤±ã€‚",
            solution: "ä½ ä¸éœ€è¦æ›´å¤šè³‡è¨Šï¼Œä½ éœ€è¦çš„æ˜¯<b>ã€Œé¢¨å‘æ¨™ã€</b>ã€‚æˆ‘å€‘ç‚ºä½ éæ¿¾ 90% é›œè¨Šï¼Œæ¯å¤©åªçµ¦ 3 å€‹é—œéµæƒ…å ±ï¼Œè®“ä½ ä¿æŒéˆæ´»å»ä¸å†è¿·è·¯ã€‚",
            color: "var(--wind)"
        },
        fire: {
            name: "ğŸ”¥ çˆ†ç‚é­”å°å£« (The Pyro Mage)",
            quote: "ã€Œçˆ†ç‚¸å°±æ˜¯è—è¡“ï¼é«˜é¢¨éšªä¼´éš¨é«˜å ±é…¬ï¼ã€",
            stats: [
                { label: "åŠ›é‡ STR", val: "S" }, { label: "çˆ†ç™¼ CRIT", val: "S" },
                { label: "é˜²ç¦¦ DEF", val: "D" }, { label: "è€å¿ƒ MND", val: "C" }
            ],
            desc: "ä½ æ“æœ‰å¼·å¤§çš„åŸ·è¡ŒåŠ›èˆ‡å†’éšªç²¾ç¥ï¼Œå–œæ­¡è¿½é€ç†±é»ã€‚ä½†æ³•åŠ›ï¼ˆè³‡é‡‘ï¼‰æ¶ˆè€—å¿«ï¼Œä¸”å®¹æ˜“åœ¨æƒ…ç·’é«˜æ˜‚æ™‚å¿½è¦–é™·é˜±ï¼Œå°è‡´ã€Œè³ºå¾—å¿«ã€è³ å¾—ä¹Ÿå¿«ã€ã€‚",
            solution: "ä½ éœ€è¦ä¸€ä½å†·éœçš„<b>ã€Œè¼”åŠ©å®˜ã€</b>ã€‚æˆ‘å€‘ä¸é˜»æ­¢ä½ é€²æ”»ï¼Œä½†æœƒåœ¨é–‹ç›¤å‰æç¤ºç•¶æ—¥ã€Œæƒ…ç·’éç†±é¢¨éšªã€ï¼Œè®“ä½ çŸ¥é“ä½•æ™‚è©²æ”¶æ‰‹ï¼Œä¿ç•™æˆ°åˆ©å“ã€‚",
            color: "var(--fire)"
        },
        water: {
            name: "ğŸ’§ æ·±æµ·è³¢è€… (The Abyssal Sage)",
            quote: "ã€Œæ°´èƒ½è¼‰èˆŸï¼Œäº¦èƒ½è¦†èˆŸã€‚çœ‹æ¸…æµå‘æ‰èƒ½æŒèˆµã€‚ã€",
            stats: [
                { label: "æ™ºæ…§ WIS", val: "S" }, { label: "è€å¿ƒ MND", val: "A" },
                { label: "é€Ÿåº¦ SPD", val: "C" }, { label: "é‹æ°£ LUK", val: "B" }
            ],
            desc: "ä½ ä¿¡å¥‰é‚è¼¯èˆ‡åƒ¹å€¼ï¼Œè¨å­ç›²ç›®è·Ÿé¢¨ã€‚ä½†æœ‰æ™‚ä½ æœƒã€Œæƒ³å¤ªå¤šã€å°è‡´æ±ºç­–ç™±ç˜“ã€‚ä½ åœ¨å°‹æ‰¾çš„æ˜¯èƒ½å¤ é©—è­‰ä½ è§€é»çš„æ·±åº¦æ´å¯Ÿï¼Œè€Œéè†šæ·ºæ–°èã€‚",
            solution: "æˆ‘å€‘ç‚ºä½ æº–å‚™äº†<b>ã€Œæ·±å±¤æµ·æµåœ–ã€</b>ã€‚æä¾›ç¶“éé‚è¼¯é©—è­‰çš„æ•˜äº‹æ¶æ§‹ï¼Œè®“ä½ å¿«é€Ÿç¢ºèªè‡ªå·±çš„åˆ¤æ–·æ˜¯å¦èˆ‡å®è§€æµå‘ä¸€è‡´ï¼Œæ¸›å°‘çŒ¶è±«æ™‚é–“ã€‚",
            color: "var(--water)"
        },
        earth: {
            name: "â›°ï¸ é‹¼éµè¡›å£« (The Iron Guardian)",
            quote: "ã€Œä¸å‹•å¦‚å±±ã€‚æ™‚é–“æ˜¯æˆ‘çš„ç›Ÿå‹ã€‚ã€",
            stats: [
                { label: "é«”åŠ› VIT", val: "S" }, { label: "é˜²ç¦¦ DEF", val: "S" },
                { label: "æ•æ· AGI", val: "D" }, { label: "çˆ†ç™¼ CRIT", val: "C" }
            ],
            desc: "ä½ æ˜¯å¸‚å ´ä¸­æœ€ç©©å®šçš„åŠ›é‡ï¼Œä¿¡ä»°é•·æœŸæŒæœ‰ã€‚ä½ å…¶å¯¦ä¸å¤ªéœ€è¦æ¯å¤©çœ‹ç›¤ï¼Œä½†å¶çˆ¾æœƒæ“”å¿ƒã€Œæˆ‘æ˜¯ä¸æ˜¯éŒ¯éäº†ä¸–ç•Œçš„å¤§è®Šå±€ï¼Ÿã€ã€‚",
            solution: "ä¿æŒä½ çš„ç¯€å¥ã€‚ä½ åªéœ€è¦<b>ã€Œåœ°éœ‡é è­¦ã€</b>ã€‚è¨‚é–±æˆ‘å€‘ï¼Œå¹³æ—¥ä½ å¯ä»¥å®Œå…¨ç„¡è¦–å¸‚å ´ï¼Œåªæœ‰ç•¶çµæ§‹æ€§é¢¨éšªå‡ºç¾æ™‚ï¼Œæˆ‘å€‘æ‰æœƒæé†’ä½ èª¿æ•´ç›¾ç‰Œã€‚",
            color: "var(--earth)"
        },
        light: {
            name: "âœ¨ è–é¨å£« (The Paladin)",
            quote: "ã€Œä¿¡ä»°æŒ‡å¼•æˆ‘ã€‚æˆ‘çœ‹è¦‹çš„æ˜¯åå¹´å¾Œçš„è–åŸŸã€‚ã€",
            stats: [
                { label: "ä¿¡ä»° FAI", val: "S" }, { label: "é­…åŠ› CHA", val: "A" },
                { label: "ç´°ç¯€ DEX", val: "C" }, { label: "æ•æ· AGI", val: "B" }
            ],
            desc: "ä½ æŠ•è³‡çš„æ˜¯ã€Œæœªä¾†ã€ã€‚ç„¡è«–æ˜¯ AI æˆ–ç¶ èƒ½ï¼Œä½ å®¹æ˜“è¢«å®å¤§æ•˜äº‹å¸å¼•ã€‚ä½ æ˜¯é•·ç·šè´å®¶ï¼Œä½†æœ‰æ™‚æœƒè²·åœ¨å¤¢æƒ³æœ€æ˜‚è²´çš„æ™‚åˆ»ã€‚",
            solution: "å¤¢æƒ³éœ€è¦ç¾å¯¦æ”¯æ’ã€‚æˆ‘å€‘å¹«ä½ ç›£æ¸¬<b>ã€Œä¿¡ä»°å€¼ï¼ˆå¸‚å ´æƒ…ç·’ï¼‰ã€</b>ï¼Œç¢ºä¿ä½ åœ¨è¿½é€å…‰çš„åŒæ™‚ï¼Œä¸æœƒè¢«åœ°é¢çš„çŸ³é ­çµ†å€’ã€‚",
            color: "var(--light)"
        },
        dark: {
            name: "ğŸŒ‘ æ­»éˆè¡“å£« (The Necromancer)",
            quote: "ã€Œææ‡¼æ˜¯æœ€å¥½çš„è²¨å¹£ã€‚çœ¾äººè²ªå©ªæ™‚ï¼Œæˆ‘ææ‡¼ã€‚ã€",
            stats: [
                { label: "æŠ—æ€§ RES", val: "S" }, { label: "é‹æ°£ LUK", val: "B" },
                { label: "åŠ›é‡ STR", val: "C" }, { label: "ä¿¡ä»° FAI", val: "D" }
            ],
            desc: "ä½ å¤©ç”Ÿæ‡·ç–‘ä¸»æµæ•˜äº‹ï¼Œå–„æ–¼ç™¼ç¾ç¹æ¦®èƒŒå¾Œçš„è…æ•—ã€‚ä½ æ˜¯å¤©ç”Ÿçš„é¿éšªè€…ã€‚ä½ æœ€å¤§çš„æ•µäººæ˜¯ã€Œéç†æ€§çš„ç¹æ¦®ã€æŒçºŒå¤ªä¹…ï¼Œè€—ç›¡ä½ çš„è€å¿ƒã€‚",
            solution: "ä½ éœ€è¦çš„æ˜¯<b>ã€Œç˜‹ç‹‚æŒ‡æ•¸ã€</b>ã€‚æˆ‘å€‘å®¢è§€é‡åŒ–å¸‚å ´æƒ…ç·’ï¼Œè®“ä½ çŸ¥é“ä½•æ™‚è©²æ½›ä¼ï¼Œä½•æ™‚æ‰æ˜¯ä½ å¬å–šäº¡éˆå¤§è»ï¼ˆåšç©º/é¿éšªï¼‰çš„æœ€ä½³æ™‚æ©Ÿã€‚",
            color: "var(--dark)"
        }
    };

    // State
    let currentQIndex = 0;
    let scores = { wind: 0, fire: 0, water: 0, earth: 0, light: 0, dark: 0 };

    function startGame() {
        document.getElementById('intro-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        renderQuestion();
    }

    function renderQuestion() {
        const q = questions[currentQIndex];
        const totalQ = questions.length;
        
        // Update Text
        document.getElementById('question-text').innerText = q.q;
        
        // Update Progress Bar
        const progress = ((currentQIndex) / totalQ) * 100;
        document.getElementById('progress-fill').style.width = `${progress}%`;

        // Render Options
        const container = document.getElementById('options-container');
        container.innerHTML = '';
        
        q.options.forEach((opt, idx) => {
            const btn = document.createElement('button');
            btn.className = 'btn fade-in';
            btn.style.animationDelay = `${idx * 0.1}s`;
            btn.innerText = opt.text;
            btn.onclick = () => handleAnswer(opt.scores);
            container.appendChild(btn);
        });
    }

    function handleAnswer(points) {
        // Add points
        for (const [key, value] of Object.entries(points)) {
            if (scores[key] !== undefined) scores[key] += value;
        }

        currentQIndex++;
        
        if (currentQIndex < questions.length) {
            // Small delay for UX
            setTimeout(renderQuestion, 200);
        } else {
            finishQuiz();
        }
    }

    function finishQuiz() {
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('loading-screen').classList.remove('hidden');
        
        // Fake loading messages
        const texts = ["è®€å–æ˜Ÿè±¡...", "è¨ˆç®—é¢¨éšªä¿‚æ•¸...", "ç”Ÿæˆéˆé­‚å ±å‘Š..."];
        let i = 0;
        const textEl = document.getElementById('loading-text');
        
        const interval = setInterval(() => {
            textEl.innerText = texts[i % texts.length];
            i++;
        }, 800);

        setTimeout(() => {
            clearInterval(interval);
            showResult();
        }, 2500);
    }

    function showResult() {
        document.getElementById('loading-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');

        // Calculate highest score
        const winnerKey = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
        const result = archetypes[winnerKey];

        // Render Content
        document.getElementById('result-archetype').innerHTML = result.name;
        document.getElementById('result-archetype').style.color = result.color;
        document.getElementById('result-quote').innerText = result.quote;
        document.getElementById('result-desc').innerText = result.desc;
        document.getElementById('result-solution').innerHTML = result.solution;

        // Render Stats
        const statsContainer = document.getElementById('stats-display');
        statsContainer.innerHTML = '';
        result.stats.forEach(stat => {
            const div = document.createElement('div');
            div.className = 'stat-item';
            div.innerHTML = `<span>${stat.label}</span><span class="stat-val" style="color:${result.color}">${stat.val}</span>`;
            statsContainer.appendChild(div);
        });
    }

</script>

</body>
</html>